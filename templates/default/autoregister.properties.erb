#
# File autogenerated by chef. All changes will be lost
#
<% if node['gocd']['agent']['type'] == 'golang' %>
export GOCD_AGENT_AUTO_REGISTER_KEY="<%= @key %>"
<% if @resources %>
<% if @resources.kind_of? String %>
export GOCD_AGENT_AUTO_REGISTER_RESOURCES="<%= @resources %>"
<% elsif @resources.count > 0 %>
export GOCD_AGENT_AUTO_REGISTER_RESOURCES="<%= @resources.join(",") %>"
<% end %>
<% end %>
<% if @environments %>
<% if @environments.kind_of? String %>
export GOCD_AGENT_AUTO_REGISTER_ENVIRONMENTS="<%= @environments %>"
<% elsif @environments.count > 0 %>
export GOCD_AGENT_AUTO_REGISTER_ENVIRONMENTS="<%= @environments.join(",") %>"
<% end %>
<% end %>
<% if @elastic_agent_plugin_id %>
export GOCD_AGENT_AUTO_REGISTER_ELASTIC_PLUGIN_ID="<%= @elastic_agent_plugin_id %>"
<% end %>
<% if @elastic_agent_id %>
export GOCD_AGENT_AUTO_REGISTER_ELASTIC_AGENT_ID="<%= @elastic_agent_id %>"
<% end %>
<% else %>
agent.auto.register.key          = <%= @key %>
agent.auto.register.hostname     = <%= @hostname %>

<% if @environments %>
<% if @environments.kind_of? String %>
agent.auto.register.environments = <%= @environments %>
<% elsif @environments.count > 0 %>
agent.auto.register.environments = <%= @environments.join(", ") %>
<% end %>
<% end %>

<% if @resources %>
<% if @resources.kind_of? String %>
agent.auto.register.resources    = <%= @resources %>
<% elsif @resources.count > 0 %>
agent.auto.register.resources    = <%= @resources.join(", ") %>
<% end %>
<% end %>

<% if @elastic_agent_plugin_id %>
agent.auto.register.elasticAgent.pluginId = <%= @elastic_agent_plugin_id %>
<% end %>
<% if @elastic_agent_id %>
agent.auto.register.elasticAgent.agentId = <%= @elastic_agent_id %>
<% end %>
<% end %>
